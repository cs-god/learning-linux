
# 一、配置文件目录

| 目录                     | 描述                                                                                                                                   |
| ------------------------ | -------------------------------------------------------------------------------------------------------------------------------------- |
| /etc/systemd/system/     | 系统或用户自定义的配置文件，其实这个目录有点像以前 /etc/rc.d/rc5.d/Sxx 之类的功能。  |
| /run/systemd/system/     | 软件运行时生成的配置文件。 |
| /usr/lib/systemd/system/ | 系统或第三方软件安装时添加的配置文件。这里的数据尽量不要修改，要修改，请到 /etc/systemd/system 下面修改较佳。 |

- Systemd 默认从目录 /etc/systemd/system/ 读取配置文件。
- 按照 Systemd 约定，Unit 文件应该被放置到上述三个目录中的一个。
- 三个目录，越靠上的优先级越高。因此，在三个目录中有同名文件的时候，只有优先级最高的目录里的那个文件会被使用。


# 配置文件
| 目录             | 描述                                                                                                                                                                                                                |
| ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| /etc/sysconfig/* | 几乎所有的服务都会将初始化的一些选项设置写入到这个目录下。举例来说，mandb 所要更新的 man page 索引中，需要加入的参数就写入到此目录下的 man-db 当中，而网络的设置则写在 /etc/sysconfig/network-scripts/ 这个目录内。 |

| 目录      | 描述                                                                                                                           |
| --------- | ------------------------------------------------------------------------------------------------------------------------------ |
| /var/lib/ | 一些会产生数据的服务都会将他的数据写入到该目录中。举例来说，数据库管理系统 Mariadb 的数据库默认就是写入/var/lib/mysql/目录下。 |
| /run/     | 许多daemon的暂存盘，包括 lock file 以及 PID file 等等。                                                                        |



- /usr/lib/systemd/system/：每个服务最主要的启动脚本设置，有点类似以前的 /etc/init.d 下面的文件；
- /run/systemd/system/：系统执行过程中所产生的服务脚本，这些脚本的优先序要比 /usr/lib/systemd/system/ 高。
- /etc/systemd/system/：管理员依据主机系统的需求所创建的执行脚本，其实这个目录有点像以前 /etc/rc.d/rc5.d/Sxx 之类的功能！执行优先序又比 /run/systemd/system/ 高。

因此系统开机会不会执行某些服务其实是看 /etc/systemd/system/ 下面的设置，所以该目录下面就是一大堆链接文件。
实际执行的 systemd 启动脚本配置文件， 其实都是放置在 /usr/lib/systemd/system/ 下面。